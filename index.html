<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Xâ€“Y Graph Plotter</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
    body {
        font-family: Arial, sans-serif;
        background: #eef2f5;
        margin: 0;
        padding: 10px;
    }

    h2 {
        text-align: center;
        margin-bottom: 10px;
    }

    .container {
        max-width: 1200px;
        margin: auto;
        background: white;
        padding: 15px;
        border-radius: 8px;
    }

    .controls {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        margin-bottom: 15px;
    }

    input {
        padding: 6px;
        width: 120px;
    }

    button {
        padding: 10px 14px;
        cursor: pointer;
    }

    .layout {
        display: flex;
        gap: 15px;
    }

    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        border: 1px solid #333;
        padding: 6px;
        text-align: center;
    }

    canvas {
        background: white;
        width: 100% !important;
        height: auto !important;
    }

    /* ðŸ“± MOBILE VIEW */
    @media (max-width: 768px) {
        .layout {
            flex-direction: column;
        }

        input {
            width: 100%;
        }

        button {
            width: 100%;
        }
    }

    /* ðŸ–¥ DESKTOP VIEW */
    @media (min-width: 769px) {
        .layout {
            flex-direction: row;
        }

        .table-box {
            width: 35%;
        }

        .graph-box {
            width: 65%;
        }
    }
</style>
</head>

<body>

<div class="container">

<h2>Xâ€“Y Graph Plotter</h2>

<div class="controls">
    <input id="xLabel" placeholder="X-axis label" value="X-axis">
    <input id="yLabel" placeholder="Y-axis label" value="Y-axis">
    <button onclick="addRow()">Add Row</button>
    <button onclick="plotGraph()">Plot Graph</button>
    <button onclick="downloadGraph()">Download</button>
</div>

<div class="layout">
    <div class="table-box">
        <table id="dataTable">
            <tr>
                <th>X</th>
                <th>Y</th>
            </tr>
            <tr>
                <td><input type="number"></td>
                <td><input type="number"></td>
            </tr>
        </table>
    </div>

    <div class="graph-box">
        <canvas id="graph"></canvas>
    </div>
</div>

</div>

<script>
let chart;

function addRow() {
    let table = document.getElementById("dataTable");
    let row = table.insertRow();
    row.insertCell(0).innerHTML = '<input type="number">';
    row.insertCell(1).innerHTML = '<input type="number">';
}

function plotGraph() {
    let x = [];
    let y = [];

    let table = document.getElementById("dataTable");

    for (let i = 1; i < table.rows.length; i++) {
        let xv = table.rows[i].cells[0].children[0].value;
        let yv = table.rows[i].cells[1].children[0].value;

        if (xv !== "" && yv !== "") {
            x.push(xv);
            y.push(Math.abs(yv));
        }
    }

    if (chart) chart.destroy();

    chart = new Chart(document.getElementById("graph"), {
        type: "line",
        data: {
            labels: x,
            datasets: [{
                label: "Y vs X",
                data: y,
                pointRadius: 4,
                borderWidth: 2,
                fill: false
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    title: {
                        display: true,
                        text: document.getElementById("xLabel").value
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: document.getElementById("yLabel").value
                    }
                }
            }
        }
    });
}

function downloadGraph() {
    let link = document.createElement("a");
    link.download = "graph.png";
    link.href = document.getElementById("graph").toDataURL();
    link.click();
}
</script>

</body>
</html>
